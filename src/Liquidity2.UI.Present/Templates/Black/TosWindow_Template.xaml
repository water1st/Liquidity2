<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:userControl="clr-namespace:Liquidity2.UI.Components.UsersControl;assembly=Liquidity2.UI.Components"
                    xmlns:searchButton="clr-namespace:Liquidity2.UI.Components.UsersControl.Buttons;assembly=Liquidity2.UI.Components"
                    xmlns:groupButton="clr-namespace:Liquidity2.UI.Components.UsersControl.GroupButton;assembly=Liquidity2.UI.Components"
                    xmlns:tosConvert="clr-namespace:Liquidity2.UI.Windows.TOS.Converter;assembly=Liquidity2.UI.Present">

    <ControlTemplate x:Key="TOSWindow_Template">
        <ControlTemplate.Resources>
            <!--标题栏样式开始-->
            <Style x:Key="BaseWindowTitleStyle" TargetType="{x:Type Grid}">
                <Setter Property="Background" Value="#00010A" />
            </Style>
            <!--标题栏样式结束-->

            <!--窗体主体样式开始-->
            <Style x:Key="BaseWindowBodyStyle" TargetType="{x:Type Grid}">
                <Setter Property="Background" Value="#171B2B"/>
            </Style>
            <!--窗体主体样式结束-->

            <!--标题栏文字开始-->
            <Style x:Key="BaseWindowTitleTextStyle" TargetType="{x:Type TextBlock}">
                <Setter Property="Opacity" Value="0.5" />
                <Setter Property="FontSize" Value="12" />
                <Setter Property="Margin" Value="10,0,0,0" />
                <Setter Property="VerticalAlignment" Value="Center" />
                <Setter Property="HorizontalAlignment" Value="Left" />
            </Style>
            <!--标题栏文字结束-->

            <!--标题栏最小化按钮开始-->
            <Style x:Key="BaseWindowMinimizeButtonStyle" TargetType="{x:Type Button}">
                <!--按钮透明度-->
                <Setter Property="Opacity" Value="0.75" />
                <Setter Property="Template" >
                    <Setter.Value>
                        <ControlTemplate TargetType="Button">
                            <Grid Background="Black">
                                <!--画布对象，用于画按钮样子，画布长宽均为12像素，所以线段有效x，x坐标为0~12-->
                                <Canvas Width="12" Height="12" Margin="9">
                                    <!--线段对象，最小化按钮一条横线
                            StrokeThickness是线粗像素，Stroke是线条颜色-->
                                    <Line StrokeThickness="2" X1="0" Y1="6" X2="12" Y2="6" Stroke="#FFFFFF" />
                                </Canvas>
                            </Grid>
                            <!--触发事件-->
                            <ControlTemplate.Triggers>
                                <!--鼠标经过高亮-->
                                <Trigger Property="Button.IsMouseOver" Value="True">
                                    <Setter Property="Opacity" Value="1" />
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
                <Setter Property="Width" Value="30" />
            </Style>
            <!--标题栏最小化按钮结束-->

            <!--标题栏最大化按钮开始-->
            <Style x:Key="BaseWindowMaximizeButtonStyle" TargetType="{x:Type Button}" >
                <Setter Property="Opacity" Value="0.75"/>
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="Button">
                            <Grid Background="Black">
                                <!--画布对象，长宽12像素-->
                                <Canvas Width="12" Height="12" Margin="9">
                                    <!--绘制几何路径-->
                                    <Path StrokeThickness="2" Stroke="#FFFFFF">
                                        <Path.Data>
                                            <PathGeometry>
                                                <!--以0，0为起点，各个点连接绘制图形-->
                                                <PathFigure StartPoint="0,0">
                                                    <PolyLineSegment Points="12,0 12,12 0,12 0,0"/>
                                                </PathFigure>
                                            </PathGeometry>
                                        </Path.Data>
                                    </Path>
                                </Canvas>
                            </Grid>
                            <!--触发事件-->
                            <ControlTemplate.Triggers>
                                <!--鼠标经过高亮-->
                                <Trigger Property="Button.IsMouseOver" Value="True">
                                    <Setter Property="Opacity" Value="1" />
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
                <Setter Property="Width" Value="30" />
            </Style>
            <!--标题栏最大化按钮结束-->

            <!--标题栏关闭按钮开始-->
            <Style x:Key="BaseWindowCloseButtonStyle" TargetType="{x:Type Button}">
                <!--按钮透明度-->
                <Setter Property="Opacity" Value="0.75"/>
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="Button">
                            <Grid Background="Black">
                                <!--画布对象，用于画按钮样子，画布长宽均为12像素，所以线段有效x，x坐标为0~12-->
                                <Canvas Width="12" Height="12" Margin="9">
                                    <!--线段对象，关闭按钮x的两条线，x1，y1是起点坐标，x2，y2是终点坐标
                            StrokeThickness是线粗像素，Stroke是线条颜色-->
                                    <Line StrokeThickness="2" X1="0" Y1="0" X2="12" Y2="12" Stroke="#FFFFFF" />
                                    <Line StrokeThickness="2" X1="0" Y1="12" X2="12" Y2="0" Stroke="#FFFFFF" />
                                </Canvas>
                            </Grid>
                            <!--触发事件-->
                            <ControlTemplate.Triggers>
                                <!--鼠标经过高亮-->
                                <Trigger Property="Button.IsMouseOver" Value="True">
                                    <Setter Property="Opacity" Value="1" />
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>
            <!--标题栏关闭按钮结束-->

            <!--标题栏星星按钮-->
            <Style x:Key="StarBtn" TargetType="{x:Type Button}">
                <Setter Property="Command" Value="{Binding DataContext.TosVM.StarButtonClickCmd,RelativeSource={RelativeSource AncestorType={x:Type Window}}}"/>
                <Setter Property="Template" >
                    <Setter.Value>
                        <ControlTemplate TargetType="{x:Type Button}">
                            <Grid>
                                <Canvas HorizontalAlignment="Center" VerticalAlignment="Center" Margin="0,0,5,0" Width="12" Height="12">
                                    <Path StrokeThickness="0"  Fill="{TemplateBinding Background}" VerticalAlignment="Center" HorizontalAlignment="Center" >
                                        <Path.Data>
                                            <GeometryGroup>
                                                <PathGeometry FillRule="EvenOdd" Figures="M3.0245567,11.9180448 C2.79578028,12.0429034 2.52228069,12.022022 2.3119218,11.8636359 C2.10538194,11.7098072 2.0000472,11.4400391 2.04197736,11.1722934 L2.55008097,8.07747531 C2.58693346,7.84785977 2.51368915,7.61325259 2.35338084,7.45102422 L0.203499082,5.25969332 C0.0202041007,5.07494769 -0.0464498483,4.79111969 0.0330563451,4.53390855 C0.116567206,4.27411015 0.328132992,4.08754156 0.579855071,4.05171592 L3.55108656,3.59997231 C3.77220146,3.56652831 3.96291306,3.42127152 4.06149346,3.21212172 L5.38910418,0.395837222 C5.50334688,0.153742578 5.73920277,0 5.99717016,0 C6.2555982,0 6.49191475,0.153742578 6.60523614,0.395837222 L7.93376817,3.21212172 C8.03234857,3.42177069 8.22306017,3.56652831 8.44371441,3.59997231 L11.4154066,4.05171592 C11.6673025,4.08736508 11.8790814,4.27396444 11.9626659,4.53390855 C12.0423594,4.7899798 11.9764856,5.07150841 11.7917625,5.25969332 L9.64003816,7.45102422 C9.48176267,7.61104461 9.40895472,7.84697605 9.44656262,8.07797447 L9.9551269,11.1722934 C9.9975339,11.4406367 9.89194276,11.7111855 9.6847218,11.8651334 C9.47377778,12.0236239 9.19959702,12.0439417 8.97070493,11.9180448 L6.31271955,10.4584886 C6.11442257,10.3500244 5.8803784,10.3500244 5.68208142,10.4584886 L3.0245567,11.9180448 Z"/>
                                            </GeometryGroup>
                                        </Path.Data>
                                    </Path>
                                </Canvas>
                            </Grid>
                            <!--触发事件-->
                            <ControlTemplate.Triggers>
                                <!--鼠标经过高亮-->
                                <Trigger Property="Button.IsMouseOver" Value="true">
                                    <Setter Property="Cursor" Value="Hand"/>
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
                <Setter Property="Width" Value="25" />
                <Setter Property="Height" Value="30"/>
            </Style>

            <Style x:Key="WindowMenuButtonStyle" TargetType="{x:Type Button}">
                <Setter Property="Opacity" Value="0.75"/>
                <Setter Property="Foreground" Value="White"/>
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="Button">
                            <Grid Background="{x:Null}" Height="30">
                                <Canvas HorizontalAlignment="Right" Width="12" Height="12" Margin="0">
                                    <Path StrokeThickness="0" Stroke="White">
                                        <Path.Data>
                                            <GeometryGroup>
                                                <PathGeometry FillRule="EvenOdd" Figures="M2.91005169,0 L11.6948751,0 C11.8627139,0 12,0.178521634 12,0.397094826 L12,1.3107516 C12,1.52932479 11.8627139,1.70784642 11.6948751,1.70784642 L2.91005169,1.70784642 C2.74221294,1.70784642 2.60492679,1.52932479 2.60492679,1.3107516 L2.60492679,0.397094826 C2.60492679,0.178521634 2.74221294,-2.62160103e-29 2.91005169,0 Z M0.312124001,4.37957672e-15 L1.46045158,-1.13686838e-13 C1.63219375,-1.13686838e-13 1.77257558,0.178692669 1.77257558,0.397094826 L1.77257558,1.3107516 C1.77257558,1.52915375 1.63205926,1.70784642 1.46045158,1.70784642 L0.312124001,1.70784642 C0.14051633,1.70784642 4.03896783e-28,1.52932479 4.03896783e-28,1.3107516 L4.03896783e-28,0.397094826 C4.03896783e-28,0.178521634 0.140381826,4.37957672e-15 0.312124001,4.37957672e-15 Z M0.312124001,10.2784113 L1.46045158,10.2784113 C1.63219375,10.2784113 1.77257558,10.4571039 1.77257558,10.6755061 L1.77257558,11.6029052 C1.77257558,11.8213073 1.63205926,12 1.46045158,12 L0.312124001,12 C0.14051633,12 4.03896783e-28,11.8214784 4.03896783e-28,11.6029052 L4.03896783e-28,10.6755061 C4.03896783e-28,10.4569329 4.03896783e-28,10.2784113 0.312124001,10.2784113 Z M1.46045158,4.96149563 C1.63219375,4.96149563 1.77257558,5.1401883 1.77257558,5.35859046 L1.77257558,6.49399738 C1.77257558,6.71239954 1.63205926,6.89109221 1.46045158,6.89109221 L0.312124001,6.89109221 C0.14051633,6.89109221 4.03896783e-28,6.71257057 4.03896783e-28,6.49399738 L4.03896783e-28,5.35859046 C4.03896783e-28,5.14001727 0.140381826,4.96149563 0.312124001,4.96149563 L1.46045158,4.96149563 Z M2.91005169,10.2784113 L11.6948751,10.2784113 C11.8627139,10.2784113 12,10.4569329 12,10.6755061 L12,11.6029052 C12,11.8214784 11.8627139,12 11.6948751,12 L2.91005169,12 C2.74221294,12 2.60492679,11.8214784 2.60492679,11.6029052 L2.60492679,10.6755061 C2.60492679,10.5297906 2.70663509,10.3974257 2.91005169,10.2784113 Z M2.91005169,4.96149563 L11.6948751,4.96149563 C11.8627139,4.96149563 12,5.14001727 12,5.35859046 L12,6.49399738 C12,6.71257057 11.8627139,6.89109221 11.6948751,6.89109221 L2.91005169,6.89109221 C2.74221294,6.89109221 2.60492679,6.71257057 2.60492679,6.49399738 L2.60492679,5.35859046 C2.60492679,5.212875 2.70663509,5.08051006 2.91005169,4.96149563 Z" />
                                            </GeometryGroup>
                                        </Path.Data>
                                        <Path.Fill>
                                            <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                                <GradientStop Color="White"/>
                                            </LinearGradientBrush>
                                        </Path.Fill>
                                    </Path>
                                </Canvas>
                            </Grid>
                            <!--触发事件-->
                            <ControlTemplate.Triggers>
                                <!--鼠标经过高亮-->
                                <Trigger Property="Button.IsMouseOver" Value="true">
                                    <Setter Property="Opacity" Value="1"/>
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>

            <!--标题栏群组联动按钮开始-->
            <Style x:Key="BaseWindowGroupButtonStyle" TargetType="{x:Type Button}" >
                <Setter Property="Opacity" Value="0.75"/>
                <Setter Property="Foreground" Value="White"/>
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="Button">
                            <Grid Background="Black" >
                                <TextBlock HorizontalAlignment="Center" VerticalAlignment="Center" FontSize="16" Visibility="{Binding BlockVisibility}" Text="{Binding GroupText}"/>
                                <!--画布对象，由两个扭曲的线条组成-->
                                <Canvas Width="12" Height="12" Margin="9" Visibility="{Binding CanvasVisibility}">
                                    <Path StrokeThickness="2" Stroke="#FFFFFF">
                                        <Path.Data>
                                            <PathGeometry>
                                                <PathFigure StartPoint="8,2">
                                                    <PolyLineSegment Points="8,0 0,0 0,8 8,8 8,6"/>
                                                </PathFigure>
                                            </PathGeometry>
                                        </Path.Data>
                                    </Path>
                                    <Path StrokeThickness="2" Stroke="#FFFFFF">
                                        <Path.Data>
                                            <PathGeometry>
                                                <PathFigure StartPoint="4,6">
                                                    <PolyLineSegment Points="4,4 12,4 12,12 4,12 4,10"/>
                                                </PathFigure>
                                            </PathGeometry>
                                        </Path.Data>
                                    </Path>
                                </Canvas>
                            </Grid>
                            <!--触发事件-->
                            <ControlTemplate.Triggers>
                                <!--鼠标经过高亮-->
                                <Trigger Property="Button.IsMouseOver" Value="true">
                                    <Setter Property="Opacity" Value="1"/>
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
                <Setter Property="Width" Value="30" />
            </Style>
            <!--标题栏群组联动按钮结束-->

            <!--标题栏搜索按钮开始-->
            <Style x:Key="BaseWindowSearchButtonStyle" TargetType="{x:Type Button}">
                <Setter Property="Opacity" Value="0.75"/>
                <Setter Property="Template" >
                    <Setter.Value>
                        <ControlTemplate TargetType="Button">
                            <Grid Background="Black">
                                <Grid Visibility="{Binding SearchBtnGridVisibility}">
                                    <Canvas HorizontalAlignment="Right" Width="12" Height="12" Margin="0,0,9,2">
                                        <Path StrokeThickness="0" Stroke="White">
                                            <Path.Data>
                                                <GeometryGroup>
                                                    <PathGeometry FillRule="EvenOdd" Figures="M9.79864501,2.92321005 C7.90017985,1.02383489 4.8215177,1.02383489 2.92228255,2.92321005 C1.02290739,4.82251521 1.02290739,7.90117736 2.92228255,9.79957251 C4.82053771,11.6985977 7.89870986,11.6990177 9.79759502,9.80069251 C9.79801502,9.80041251 9.79836502,9.79999251 9.79871501,9.79957251 C11.6976002,7.90138735 11.6981602,4.8231452 9.79983501,2.92426005 C9.79937621,2.92398749 9.79897258,2.92363134 9.79864501,2.92321005 L9.79864501,2.92321005 Z M1.86367524,10.8582498 C-0.620478428,8.37479614 -0.620968428,4.34756641 1.86248526,1.86348274 C4.34600893,-0.620670928 8.37309866,-0.621230928 10.8572523,1.86229276 C13.341336,4.34581643 13.341896,8.37290616 10.8584423,10.8571298 C10.8580115,10.8574908 10.8576133,10.857889 10.8572523,10.8583198 C8.37358864,13.3412835 4.34733891,13.3412835 1.86367524,10.8582498 Z M13.7443249,13.7452524 C13.4056658,14.0844716 12.8561672,14.0848916 12.5169481,13.7462324 L12.5159681,13.7452524 L11.2885912,12.5169656 C10.9496521,12.1780264 10.9496521,11.6284578 11.2885912,11.2895187 C11.6276004,10.9505796 12.177029,10.9505796 12.5159681,11.2895187 L13.7443249,12.5169656 C14.0836141,12.8542247 14.0850841,13.4026033 13.7477549,13.7418225 C13.7466647,13.7430177 13.7455202,13.7441622 13.7443249,13.7452524 L13.7443249,13.7452524 Z" />
                                                </GeometryGroup>
                                            </Path.Data>
                                            <Path.Fill>
                                                <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                                    <GradientStop Color="White"/>
                                                </LinearGradientBrush>
                                            </Path.Fill>
                                        </Path>
                                    </Canvas>
                                </Grid>
                                <userControl:SearchTextBox InputCmd="{Binding InputCmd, RelativeSource={RelativeSource AncestorType=searchButton:SearchButton}}" InitializationCmd ="{Binding InitializationCmd, RelativeSource={RelativeSource AncestorType=searchButton:SearchButton}}" Background="Transparent"/>
                            </Grid>
                            <!--触发事件-->
                            <ControlTemplate.Triggers>
                                <!--鼠标经过高亮-->
                                <Trigger Property="Button.IsMouseOver" Value="true">
                                    <Setter Property="Opacity" Value="1"/>
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
                <Setter Property="Height" Value="20" />
            </Style>
            <!--标题栏搜索按钮结束-->

            <Style x:Key="{x:Type ComboBox}" TargetType="{x:Type ComboBox}">
                <Setter Property="Foreground" Value="#FFFFFF" />
                <Setter Property="HorizontalAlignment" Value="Stretch" />
                <Setter Property="VerticalAlignment" Value="Stretch" />
                <Setter Property="SnapsToDevicePixels" Value="True" />
                <Setter Property="OverridesDefaultStyle" Value="True" />
                <Setter Property="ScrollViewer.HorizontalScrollBarVisibility" Value="Auto" />
                <Setter Property="ScrollViewer.VerticalScrollBarVisibility" Value="Auto" />
                <Setter Property="ScrollViewer.CanContentScroll" Value="True" />
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="{x:Type ComboBox}">
                            <Grid>
                                <ToggleButton Name="ToggleButton" Focusable="False" IsChecked="{Binding Path=IsDropDownOpen, Mode=TwoWay, RelativeSource={RelativeSource TemplatedParent}}" ClickMode="Press">
                                    <ToggleButton.Template>
                                        <ControlTemplate>
                                            <Grid>
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition />
                                                    <ColumnDefinition Width="23" />
                                                </Grid.ColumnDefinitions>
                                                <Border Name="Border" Grid.ColumnSpan="2" Background="Transparent" BorderBrush="#39456D" BorderThickness="1.5" CornerRadius="3" />
                                                <Path Name="Arrow" Grid.Column="1" Fill="#606C95" HorizontalAlignment="Center" VerticalAlignment="Center" Data="M5.49487259,5.74350705 C5.35503418,5.89458571 5.16547545,6.03559246 4.98523928,5.99194752 C4.80500311,6.0238419 4.63564326,5.87276324 4.49580485,5.74350705 L0.165475453,1.04328207 C-0.0551584844,0.804913518 -0.0551584844,0.417144962 0.165475453,0.178776417 C0.386109391,-0.059592139 0.74502797,-0.059592139 0.965661907,0.178776417 L4.99456184,4.65070475 L9.03433809,0.178776417 C9.25497203,-0.059592139 9.61389061,-0.059592139 9.83452455,0.178776417 C10.0551585,0.417144973 10.0551585,0.804913529 9.83452455,1.04328207 L5.49487259,5.74350705 L5.49487259,5.74350705 Z" />
                                            </Grid>
                                            <ControlTemplate.Triggers>
                                                <Trigger Property="IsMouseOver" Value="True">
                                                    <Trigger.EnterActions>
                                                        <BeginStoryboard>
                                                            <Storyboard>
                                                                <ColorAnimation Storyboard.TargetName="Border" Storyboard.TargetProperty="BorderBrush.Color" To="#FFFFFF" Duration="0:0:0.2" />
                                                                <ColorAnimation Storyboard.TargetName="Arrow" Storyboard.TargetProperty="Fill.Color" To="#FFFFFF" Duration="0:0:0.2" />
                                                            </Storyboard>
                                                        </BeginStoryboard>
                                                    </Trigger.EnterActions>
                                                    <Trigger.ExitActions>
                                                        <BeginStoryboard>
                                                            <Storyboard>
                                                                <ColorAnimation Storyboard.TargetName="Border" Storyboard.TargetProperty="BorderBrush.Color" To="#39456D" Duration="0:0:0.2" />
                                                                <ColorAnimation Storyboard.TargetName="Arrow" Storyboard.TargetProperty="Fill.Color" To="#606C95" Duration="0:0:0.2" />
                                                            </Storyboard>
                                                        </BeginStoryboard>
                                                    </Trigger.ExitActions>
                                                </Trigger>
                                            </ControlTemplate.Triggers>
                                        </ControlTemplate>
                                    </ToggleButton.Template>
                                </ToggleButton>
                                <ContentPresenter Name="ContentSite" IsHitTestVisible="False" Content="{TemplateBinding SelectionBoxItem}" ContentTemplate="{TemplateBinding SelectionBoxItemTemplate}" ContentTemplateSelector="{TemplateBinding ItemTemplateSelector}" Margin="5,0,0,0" VerticalAlignment="Center" HorizontalAlignment="Left"/>
                                <Popup Name="Popup" IsOpen="{TemplateBinding IsDropDownOpen}" PopupAnimation="Slide">
                                    <Border Name="DropDownBorder" SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" MinWidth="{TemplateBinding ActualWidth}" MaxHeight="{TemplateBinding MaxDropDownHeight}" Background="#171B2B" BorderBrush="#39456D" BorderThickness="1" CornerRadius="3">
                                        <ScrollViewer SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}">
                                            <StackPanel IsItemsHost="True" KeyboardNavigation.DirectionalNavigation="Contained" />
                                        </ScrollViewer>
                                    </Border>
                                </Popup>
                            </Grid>
                            <ControlTemplate.Triggers>
                                <Trigger Property="HasItems" Value="False">
                                    <Setter TargetName="DropDownBorder" Property="MinHeight" Value="95" />
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>
            <Style x:Key="{x:Type ComboBoxItem}" TargetType="{x:Type ComboBoxItem}">
                <Setter Property="Foreground" Value="#FFFFFF" />
                <Setter Property="SnapsToDevicePixels" Value="True" />
                <Setter Property="OverridesDefaultStyle" Value="True" />
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="{x:Type ComboBoxItem}">
                            <Border Name="Border" SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" Padding="10,6" CornerRadius="3" Background="#0039456D">
                                <Border.InputBindings>
                                    <MouseBinding Gesture="LeftClick" Command="{Binding DataContext.TosVM.PrecisionChangeCmd,RelativeSource={RelativeSource AncestorType={x:Type Window}}}"  CommandParameter="{Binding}"/>
                                </Border.InputBindings>
                                <ContentPresenter/>
                            </Border>
                            <ControlTemplate.Triggers>
                                <Trigger Property="IsHighlighted" Value="True">
                                    <Trigger.EnterActions>
                                        <BeginStoryboard>
                                            <Storyboard>
                                                <ColorAnimation Storyboard.TargetName="Border" Storyboard.TargetProperty="Background.Color" To="#39456D" Duration="0:0:0.2" />
                                            </Storyboard>
                                        </BeginStoryboard>
                                    </Trigger.EnterActions>
                                    <Trigger.ExitActions>
                                        <BeginStoryboard>
                                            <Storyboard>
                                                <ColorAnimation Storyboard.TargetName="Border" Storyboard.TargetProperty="Background.Color" To="#0039456D" Duration="0:0:0.2" />
                                            </Storyboard>
                                        </BeginStoryboard>
                                    </Trigger.ExitActions>
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>

        </ControlTemplate.Resources>
        <Border BorderBrush="{Binding TosVM.WindowBorderBrush, RelativeSource={RelativeSource AncestorType=Window}}" BorderThickness="1">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="30"/>
                    <RowDefinition/>
                </Grid.RowDefinitions>
                <!--title 开始-->
                <Grid>
                    <Grid.Resources>
                        <userControl:StarButtonBackgroundConverter x:Key="starBackgrpoundCoverter" />
                    </Grid.Resources>

                    <Border WindowChrome.IsHitTestVisibleInChrome="True">
                        <Border.InputBindings>
                            <MouseBinding Gesture="LeftClick" Command="{Binding TosVM.WindowDragMoveCmd}" />
                            <MouseBinding Gesture="LeftDoubleClick" Command="{Binding TosVM.WindowMaximizeCmd}" />
                        </Border.InputBindings>
                        <Grid Style="{StaticResource BaseWindowTitleStyle}">
                            <TextBlock Text="{Binding Title,RelativeSource={RelativeSource AncestorType=Window}}" Style="{StaticResource BaseWindowTitleTextStyle}" />
                            <StackPanel HorizontalAlignment="Right" Orientation="Horizontal" VerticalAlignment="Center">
                                <searchButton:SearchButton WindowChrome.IsHitTestVisibleInChrome="True" Style="{StaticResource BaseWindowSearchButtonStyle}" Command="{Binding TosVM.WindowSearchedCmd,RelativeSource={RelativeSource AncestorType=Window}}" Background="Transparent"/>
                                <userControl:StarButton WindowChrome.IsHitTestVisibleInChrome="True" Style="{StaticResource StarBtn}" Background="{Binding IsSelfSelect,Converter={StaticResource starBackgrpoundCoverter}}"  StarIsSelfSelect="{Binding IsSelfSelect,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}"  StarStringContent="{Binding Symbol}">
                                    <userControl:StarButton.DataContext>
                                        <Binding Path="TosVM" RelativeSource="{RelativeSource AncestorType=Window}"/>
                                    </userControl:StarButton.DataContext>
                                </userControl:StarButton>
                                <ComboBox Width="72" Height="22" ItemsSource="{Binding TosVM.Precision}" SelectedItem="{Binding TosVM.SelectPrecision}"/>
                                <TextBlock Width="130" Text="实时成交" Opacity="0.5" FontSize="12" Margin="10,0,0,0" HorizontalAlignment="Left" VerticalAlignment="Center" />
                                <groupButton:GroupButton WindowChrome.IsHitTestVisibleInChrome="True" InputWindowType="GroupWindow" Style="{StaticResource BaseWindowGroupButtonStyle}"  Command="{Binding TosVM.WindowGroupedCmd,RelativeSource={RelativeSource AncestorType=Window}}"/>
                                <!--<Button WindowChrome.IsHitTestVisibleInChrome="True" Style="{StaticResource WindowMenuButtonStyle}"/>-->
                                <Button WindowChrome.IsHitTestVisibleInChrome="True" Style="{StaticResource BaseWindowMinimizeButtonStyle}">
                                    <Button.InputBindings>
                                        <MouseBinding Gesture="LeftClick" Command="{Binding TosVM.WindowMinimizeCmd}"/>
                                    </Button.InputBindings>
                                </Button>
                                <Button Style="{StaticResource BaseWindowMaximizeButtonStyle}">
                                    <Button.InputBindings>
                                        <MouseBinding Gesture="LeftClick" Command="{Binding TosVM.WindowMaximizeCmd}"/>
                                    </Button.InputBindings>
                                </Button>
                                <Button Style="{StaticResource BaseWindowCloseButtonStyle}">
                                    <Button.InputBindings>
                                        <MouseBinding Gesture="LeftClick" Command="{Binding TosVM.WindowCloseCmd}"/>
                                    </Button.InputBindings>
                                </Button>
                            </StackPanel>
                        </Grid>
                    </Border>
                </Grid>
                <!--title结束-->

                <!--内容开始-->
                <Grid Grid.Row="1" Style="{StaticResource ResourceKey=BaseWindowBodyStyle}">
                    <Grid.DataContext>
                        <Binding Path="TosVM" RelativeSource="{RelativeSource AncestorType=Window}"/>
                    </Grid.DataContext>
                    <Grid.Resources>
                        <tosConvert:BackgroundConverter x:Key="backgroundCvtData"/>
                        <tosConvert:ForegroundConverter x:Key="foregroundCvtData"/>
                    </Grid.Resources>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="61*"/>
                        <ColumnDefinition Width="39*"/>
                    </Grid.ColumnDefinitions>
                    <Grid Grid.Column="0">
                        <Border BorderBrush="#00010A" BorderThickness="0,0,1,0">
                            <Grid>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="30"/>
                                    <RowDefinition Height="40"/>
                                    <RowDefinition />
                                </Grid.RowDefinitions>

                                <Grid Grid.Row="0" >
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="50*" />
                                        <ColumnDefinition Width="50*" />
                                    </Grid.ColumnDefinitions>
                                    <Grid Grid.Column="0" x:Name="column1"/>
                                    <Grid Grid.Column="1" x:Name="column2"/>
                                    <TextBlock Grid.Column="0" Width="{Binding ElementName=column1,Path=ActualWidth}" Height="30" Background="#EFF4FF" Text="{Binding BuyTopPrice}" Foreground="Black" FontSize="14px" FontFamily="MicrosoftYaHei" LineHeight="19" TextAlignment="Center" Padding="0,7,0,0"/>
                                    <Border Width="1.5" BorderThickness="1" BorderBrush="#00010A" HorizontalAlignment="Right"/>
                                    <TextBlock Grid.Column="1" Width="{Binding ElementName=column2,Path=ActualWidth}" Height="30" Background="#EFF4FF" Text="{Binding SellTopPrice}" Foreground="Black" FontSize="14px" FontFamily="MicrosoftYaHei" LineHeight="19" TextAlignment="Center" Padding="0,7,0,0"/>
                                </Grid>

                                <Border Grid.Row="1" BorderThickness="1,0,0,1">
                                    <Grid>
                                        <Grid Margin="20,0,20,0">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="{Binding BuyHistogram}" />
                                                <ColumnDefinition Width="{Binding SellHistogram}" />
                                            </Grid.ColumnDefinitions>
                                            <Grid Grid.Column="0" x:Name="BorderColumn1"/>
                                            <Grid Grid.Column="1" x:Name="BorderColumn2"/>
                                        </Grid>

                                        <StackPanel Orientation="Horizontal"  Margin="0,10px,0,0"  HorizontalAlignment="Center" VerticalAlignment="Top">
                                            <Border   Background="#41B7FD" Width="{Binding ElementName=BorderColumn1,Path=ActualWidth}" Height="8"/>
                                            <Border Background="#F82E23"  Width="{Binding ElementName=BorderColumn2,Path=ActualWidth}" Height="8"/>
                                        </StackPanel>
                                        <StackPanel  Orientation="Horizontal" HorizontalAlignment="Left" VerticalAlignment="Bottom">
                                            <TextBlock Text="{Binding BuyPercentage, UpdateSourceTrigger=PropertyChanged}" Height="10" Width="38" Margin="10,0,10,6" Foreground="#41B7FD" FontSize="10px" FontFamily="MicrosoftYaHei" LineHeight="10px"/>
                                            <TextBlock Text="{Binding BuyCount,UpdateSourceTrigger=PropertyChanged}" Height="10" Width="Auto" Margin="0,0,0,6" Foreground="#41B7FD" FontSize="10px" FontFamily="MicrosoftYaHei" LineHeight="10px"/>
                                        </StackPanel>
                                        <StackPanel  Orientation="Horizontal" HorizontalAlignment="Right" VerticalAlignment="Bottom">
                                            <TextBlock Text="{Binding SellCount,UpdateSourceTrigger=PropertyChanged}" Height="10" Width="Auto" Margin="0,0,0,6" Foreground="#F82E23" FontSize="10px" FontFamily="MicrosoftYaHei" LineHeight="10px"/>
                                            <TextBlock Text="{Binding SellPercentage, UpdateSourceTrigger=PropertyChanged}" Height="10" Width="38" Margin="10,0,11,6" Foreground="#F82E23" FontSize="10px" FontFamily="MicrosoftYaHei" LineHeight="10px" TextAlignment="Right"/>
                                        </StackPanel>
                                    </Grid>
                                </Border>

                                <Grid Grid.Row="2">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="50*"/>
                                        <ColumnDefinition Width="50*"/>
                                    </Grid.ColumnDefinitions>
                                    <Border Grid.Column="0" BorderThickness="1" BorderBrush="Black">
                                        <Grid>
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="20"/>
                                                <RowDefinition/>
                                            </Grid.RowDefinitions>
                                            <Grid>
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="*"/>
                                                </Grid.ColumnDefinitions>
                                                <Grid Grid.Column="0" x:Name="ListBoxBorderColumn1"/>
                                            </Grid>

                                            <Grid Grid.Row="0"   VerticalAlignment="Center">
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="25*"/>
                                                    <ColumnDefinition Width="25*"/>
                                                    <ColumnDefinition Width="25*"/>
                                                </Grid.ColumnDefinitions>
                                                <TextBlock Height="12" Grid.Column="0"  Text="MPID" FontSize="11" FontFamily="MicrosoftYaHei" Foreground="#96969A" HorizontalAlignment="Left" Margin="11,0,0,0"/>
                                                <TextBlock Height="12" Grid.Column="1"  Text="{Binding PriceHeader}" FontSize="11" FontFamily="MicrosoftYaHei" Foreground="#96969A" HorizontalAlignment="Left"  />
                                                <TextBlock Height="12" Grid.Column="2"  Text="{Binding AmountHeader}" FontSize="11" FontFamily="MicrosoftYaHei" Foreground="#96969A" HorizontalAlignment="Left"  />
                                            </Grid>
                                            <ListBox Grid.Row="1" Width="{TemplateBinding Width}" ItemsSource="{Binding BuyListData}" Background="#171B2B" BorderThickness="0" ScrollViewer.HorizontalScrollBarVisibility="Disabled" ScrollViewer.VerticalScrollBarVisibility="Disabled" Padding="0" Margin="0">
                                                <ListBox.ItemTemplate>
                                                    <DataTemplate>
                                                        <Border BorderBrush="#00010A" Height="20" Width="{Binding ElementName=ListBoxBorderColumn1,Path=ActualWidth}"  BorderThickness="0,0,0,0.5" Padding="0" Margin="0">
                                                            <Border.InputBindings>
                                                                <MouseBinding Gesture="LeftClick" Command="{Binding DataContext.TosVM.CreateBuyOrderCmd,RelativeSource={RelativeSource AncestorType={x:Type Window}}}" CommandParameter="{Binding}"/>
                                                            </Border.InputBindings>
                                                            <Grid Background="{Binding Group, Converter={StaticResource backgroundCvtData}, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}" Margin="0" >
                                                                <Grid.ColumnDefinitions>
                                                                    <ColumnDefinition Width="31*"/>
                                                                    <ColumnDefinition Width="35*"/>
                                                                    <ColumnDefinition Width="34*"/>
                                                                </Grid.ColumnDefinitions>
                                                                <TextBlock Grid.Column="0" Padding="10,0,0,0" Height="12" Width="Auto" HorizontalAlignment="Left" Text="{Binding Exchange}" FontSize="12" LineHeight="14" FontFamily="MicrosoftYaHei" Margin="0"/>
                                                                <TextBlock Grid.Column="1" Padding="3,0,0,0" Height="12" Width="Auto" HorizontalAlignment="Left" Text="{Binding Price}" FontSize="12" LineHeight="14" FontFamily="MicrosoftYaHei" Margin="0" />
                                                                <TextBlock Grid.Column="2" Padding="0,0,0,0" Height="12" Width="Auto" HorizontalAlignment="Left" Text="{Binding Amount}" FontSize="12" LineHeight="14" FontFamily="MicrosoftYaHei" Margin="0"/>
                                                            </Grid>
                                                        </Border>
                                                    </DataTemplate>
                                                </ListBox.ItemTemplate>

                                                <ListBox.ItemContainerStyle>
                                                    <Style TargetType="ListBoxItem">
                                                        <Setter Property="Padding" Value="0"/>
                                                        <Setter Property="Margin" Value="0"/>
                                                        <Setter Property="Foreground" Value="#FFFFFF"/>
                                                    </Style>
                                                </ListBox.ItemContainerStyle>
                                            </ListBox>
                                        </Grid>
                                    </Border>

                                    <Border Grid.Column="1" BorderThickness="0,1,0,0" BorderBrush="Black">
                                        <Grid>
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="20"/>
                                                <RowDefinition/>
                                            </Grid.RowDefinitions>
                                            <Grid>
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="*"/>
                                                </Grid.ColumnDefinitions>
                                                <Grid Grid.Column="0" x:Name="ListBoxBorderColumn2"/>
                                            </Grid>
                                            <Grid Grid.Row="0"   VerticalAlignment="Center">
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="25*"/>
                                                    <ColumnDefinition Width="25*"/>
                                                    <ColumnDefinition Width="25*"/>
                                                </Grid.ColumnDefinitions>
                                                <TextBlock Height="12" Grid.Column="0" Text="MPID" FontSize="11" FontFamily="MicrosoftYaHei" Foreground="#96969A" HorizontalAlignment="Left" Margin="11,0,0,0"/>
                                                <TextBlock Height="12" Grid.Column="1" Text="{Binding PriceHeader}" FontSize="11" FontFamily="MicrosoftYaHei" Foreground="#96969A" HorizontalAlignment="Left"  />
                                                <TextBlock Height="12" Grid.Column="2" Text="{Binding AmountHeader}" FontSize="11" FontFamily="MicrosoftYaHei" Foreground="#96969A" HorizontalAlignment="Left"  />
                                            </Grid>
                                            <ListBox Grid.Row="1" ItemsSource="{Binding SellListData}" Background="#171B2B" BorderThickness="0" ScrollViewer.HorizontalScrollBarVisibility="Disabled" ScrollViewer.VerticalScrollBarVisibility="Disabled" Padding="0" Margin="0">
                                                <ListBox.ItemTemplate>
                                                    <DataTemplate>
                                                        <Border BorderBrush="#00010A" Height="20" Width="{Binding ElementName=ListBoxBorderColumn1,Path=ActualWidth}" BorderThickness="0,0,0,0.5" Padding="0" Margin="0">
                                                            <Border.InputBindings>
                                                                <MouseBinding Gesture="LeftClick" Command="{Binding DataContext.TosVM.CreateSellOrderCmd,RelativeSource={RelativeSource AncestorType={x:Type Window}}}" CommandParameter="{Binding}"/>
                                                            </Border.InputBindings>
                                                            <Grid Background="{Binding Group, Converter={StaticResource backgroundCvtData}, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}"  Margin="0" >
                                                                <Grid.ColumnDefinitions>
                                                                    <ColumnDefinition Width="31*"/>
                                                                    <ColumnDefinition Width="35*"/>
                                                                    <ColumnDefinition Width="33*"/>
                                                                </Grid.ColumnDefinitions>
                                                                <TextBlock Grid.Column="0" Padding="10,0,0,0" Height="12" Width="Auto" HorizontalAlignment="Left" Text="{Binding Exchange}" FontSize="12" LineHeight="14" FontFamily="MicrosoftYaHei" Margin="0"/>
                                                                <TextBlock Grid.Column="1" Padding="3,0,0,0" Height="12" Width="Auto" HorizontalAlignment="Left" Text="{Binding Price}" FontSize="12" LineHeight="14" FontFamily="MicrosoftYaHei" Margin="0"/>
                                                                <TextBlock Grid.Column="2" Padding="0,0,0,0" Height="12" Width="Auto" HorizontalAlignment="Left" Text="{Binding Amount}" FontSize="12" LineHeight="14" FontFamily="MicrosoftYaHei" Margin="0"/>
                                                            </Grid>
                                                        </Border>
                                                    </DataTemplate>
                                                </ListBox.ItemTemplate>
                                                <ListBox.ItemContainerStyle>
                                                    <Style TargetType="ListBoxItem">
                                                        <Setter Property="Margin" Value="0"/>
                                                        <Setter Property="Padding" Value="0"/>
                                                        <Setter Property="Foreground" Value="#FFFFFF"/>
                                                    </Style>
                                                </ListBox.ItemContainerStyle>
                                            </ListBox>
                                        </Grid>
                                    </Border>
                                </Grid>
                            </Grid>
                        </Border>
                    </Grid>

                    <Grid Grid.Column="1">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="20"/>
                            <RowDefinition/>
                        </Grid.RowDefinitions>
                        <Grid Grid.Row="0" Background="#11121A">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="30*"/>
                                <ColumnDefinition Width="30*"/>
                                <ColumnDefinition Width="20*"/>
                                <ColumnDefinition Width="20*"/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Grid.Column="0" Text="{Binding PriceHeader}" FontSize="11" FontFamily="MicrosoftYaHei" Padding="5,4,0,4" Foreground="#96969A" HorizontalAlignment="Left"/>
                            <TextBlock Grid.Column="1" Text="{Binding AmountHeader}" FontSize="11" FontFamily="MicrosoftYaHei" Padding="0,4,0,4" Foreground="#96969A" HorizontalAlignment="Left"/>
                            <TextBlock Grid.Column="2" Text="MPID" FontSize="11" FontFamily="MicrosoftYaHei" Padding="0,4,0,4" Foreground="#96969A" HorizontalAlignment="Left"/>
                            <TextBlock Grid.Column="3" Text="时间" FontSize="11" FontFamily="MicrosoftYaHei" Padding="0,4,0,4" Foreground="#96969A" HorizontalAlignment="Left"/>
                        </Grid>
                        <ListBox x:Name="listBox" Grid.Row="1" ItemsSource="{Binding ListData}" Background="#171B2B" BorderThickness="0" ScrollViewer.HorizontalScrollBarVisibility="Disabled" ScrollViewer.VerticalScrollBarVisibility="Disabled" Padding="0" Margin="0">
                            <ListBox.DataContext>
                                <Binding Path="TosVM" RelativeSource="{RelativeSource AncestorType=Window}"/>
                            </ListBox.DataContext>
                            <ListBox.ItemTemplate>
                                <DataTemplate>
                                    <Border BorderBrush="#00010A" BorderThickness="0,0,0,1" Padding="0" Margin="0" Width="{Binding ElementName=listBox, Path=ActualWidth}">
                                        <Grid Background="#171B2B" Height="20" Margin="0">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="30*"/>
                                                <ColumnDefinition Width="28*"/>
                                                <ColumnDefinition Width="20*"/>
                                                <ColumnDefinition Width="20*"/>
                                            </Grid.ColumnDefinitions>
                                            <TextBlock Grid.Column="0" Padding="3,0,0,0" Height="12" HorizontalAlignment="Left" Text="{Binding Price}" FontSize="11" LineHeight="14" FontFamily="MicrosoftYaHei" />
                                            <TextBlock Grid.Column="1" Padding="0,0,0,0" Height="12" HorizontalAlignment="Left" Text="{Binding Amount}" FontSize="11" LineHeight="14" FontFamily="MicrosoftYaHei" />
                                            <TextBlock Grid.Column="2" Padding="1,0,0,0" Height="12" HorizontalAlignment="Left" Text="{Binding Exchange}" FontSize="11" LineHeight="14" FontFamily="MicrosoftYaHei" />
                                            <TextBlock Grid.Column="3" Padding="0,0,0,0" Height="12" HorizontalAlignment="Left" Text="{Binding Time}" FontSize="11" LineHeight="14" FontFamily="MicrosoftYaHei" />
                                        </Grid>
                                    </Border>
                                </DataTemplate>
                            </ListBox.ItemTemplate>
                            <ListBox.ItemContainerStyle>
                                <Style TargetType="ListBoxItem">
                                    <Setter Property="Background" Value="Transparent"/>
                                    <Setter Property="Padding" Value="0"/>
                                    <Setter Property="Foreground" Value="{Binding Direction, Converter={StaticResource foregroundCvtData}}"/>
                                    <Setter Property="Template">
                                        <Setter.Value>
                                            <ControlTemplate TargetType="{x:Type ListBoxItem}">
                                                <Border x:Name="itemBox" Background="Transparent" BorderBrush="{TemplateBinding Background}" BorderThickness="1">
                                                    <ContentPresenter/>
                                                </Border>
                                                <ControlTemplate.Triggers>
                                                    <Trigger Property="IsMouseOver" Value="true">
                                                        <Setter Property="Background" Value="LightBlue"/>
                                                    </Trigger>
                                                </ControlTemplate.Triggers>
                                            </ControlTemplate>
                                        </Setter.Value>
                                    </Setter>
                                </Style>
                            </ListBox.ItemContainerStyle>
                        </ListBox>
                    </Grid>
                </Grid>
                <!--内容结束-->
            </Grid>
        </Border>
    </ControlTemplate>

    <Style x:Key="TOSWindow_Style" TargetType="{x:Type Window}">
        <Setter Property="Template" Value="{StaticResource TOSWindow_Template}"/>
        <Setter Property="Width" Value="610"/>
        <Setter Property="Height" Value="650.5"/>
        <Setter Property="Foreground" Value="White" />
    </Style>

</ResourceDictionary>